# Git

Gitはソースコードの**バージョン管理システム**です。複数人での開発や、コードの変更履歴を追跡するために使用されます。

## 0. `git config`コマンド

git自体の初期設定用のコマンドです。  
gitを使う前に自分自身の情報を登録します。登録しないと、誰がソースコードを追加したか、修正したか、という履歴が残せませんので、最初にきちんと登録する必要があります。

以下は、ユーザ名とメールアドレスを登録しています。

```sh
git config --global user.name "your_name"
git config --global user.email your_email
```

上手く設定されているかは以下のコマンドで確認できます。

```sh
git config --global -l
```

## 1. `git init`コマンド

現在自分自身がいるディレクトリを **「gitで管理します！」と宣言するコマンド** です。  
このコマンドを入力すると、現在のディレクトリ下に`.git`という名前の隠しディレクトリが作成されます。（このディレクトリを削除すると`git`で管理していた履歴の情報はすべて失われます。逆にいえば、ソースコードを`git`の管理下から外したい場合は、`.git`ディレクトリを削除すればいいわけです）

以下は、`my-project`というディレクトリを作成し、そのディレクトリ下に移動し、`my-project`を git で管理するように宣言している例です。

```sh
mkdir my-project
cd my-project
git init
```

## 2. `git status`コマンド

現在 git で管理している **ファイルやディレクトリの状態（ステータス）を表示するコマンド** です。  
状態というのは、ファイルやディレクトリが、作業ディレクトリにあるのか、それとも、ステージングエリアにあるのか、ということを指します。つまり、新規作成したり、修正を加えたコードが、どこにあるのかを示すコマンドです。

## 3. `git add`コマンド

**変更したファイルとディレクトリをステージングエリアに追加するコマンド** です。  
なお、ステージングエリアを **インデックス** と呼ぶ場合もあります。  
ファイルやディレクトリをステージングエリアに追加する作業を **ステージング** と呼びます。

例として、`scripts`ディレクトリ下の`index.js`ファイルをステージングしたい場合は、以下のようにコマンドを入力します。

```sh
git add scripts/index.js
```

ひとつずつファイルやディレクトリをステージングするのが面倒な場合もあると思います。そのようなケースでは、以下のようにコマンドを打つと、変更があったディレクトリとファイルをすべてステージングできます。

```sh
git add .
```

## 4. `git commit`コマンド

**ステージングエリアに存在するファイルとディレクトリの変更を確定させるコマンド** です。  
ソースコードは、コミットして、はじめて変更履歴に残ります。

コミット時には、必ずメッセージを残す必要があります。どのような修正を加えたかメッセージを残しておかないと、膨大な修正履歴のなかから過去の変更を探す際に苦労するからです。

コミット時にメッセージを残すには、以下のように入力します。

```sh
git commit -m 'メッセージ'
```

## 5. `git log`コマンド

**コミット履歴を表示するコマンド** です。  
誰が、いつ、ソースコードに変更を加えたかを確認できます。

![gitlogコマンド](docs/git-log.png)

履歴画面は`q`を入力すると、終了できます。
